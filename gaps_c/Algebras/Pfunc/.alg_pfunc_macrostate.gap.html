&quot;Algebras/Pfunc/alg_pfunc_macrostate.gap&quot; is a special version of <a href="?id=alg_pfunc.gap">Algebras/Pfunc/alg_pfunc.gap</a> to deal with the four-tuple answer type. With a clever way to pass the according values to and from the substructures, it is possible to exactly and correctly compute unambiguous partition function values for the four way dangling model.
Some of the special functionality is externalized in the file <a href="?id=pfunc_answer_macrostate.hh">pfunc_answer_macrostate.hh</a>, e.g. the data-type for the answer-tuple, the scaling, ...